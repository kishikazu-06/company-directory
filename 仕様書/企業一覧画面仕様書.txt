 6: 画面仕様_②名簿一覧		
		
区分	項目	詳細仕様・振る舞い
画面概要	ダッシュボード	DBデータの検索・閲覧・CSV操作のハブとなる画面。
検索機能	キーワード検索	"・対象：企業名、住所、郵便番号、備考（部分一致・OR条件）
・文字数：最大300文字
・エラー：「キーワードを入力して下さい。」"
	詳細検索	"・アコーディオン形式で開閉。
・企業ID（完全一致・プルダウン）、企業名・住所・郵便番号（部分一致）、登録日（範囲指定）
・登録日範囲エラー：「開始日が終了日を超えています。」
・リセットボタン：入力条件を全てクリアし、初期状態（全件表示）に戻すボタンを配置。"
一覧表示	カラム構成	"1.企業ID 
2.企業名 
3.住所 
4.郵便番号 
5.登録日
6.備考
7.操作列（編集/削除）"
	表示制御	"・列の表示/非表示切り替え可（「企業名・住所・郵便番号」はデフォルトONかつ必須）
・ソート：ヘッダー・クリックで昇順/降順切り替え
・ページネーション：10, 20, 50, 100件切替（デフォルト10件）。URLパラメータ（?page=2等）へ状態を反映し、ブラウザバックに対応する。
・ヘッダー固定：スクロール時にテーブルヘッダーを上部に固定表示する。"
	データなし	"・テーブル：「該当データはありません」
・件数表示：「検索結果：0件」"
操作ボタン	新規追加	・名簿追加・編集画面へ遷移
	Excelインポート	・Excelアップロード画面へ遷移
	「ゴミ箱」アイコン	・削除履歴画面へ遷移
	エクスポート	"・検索結果全件をExcel(.xlsx)で出力。
・確認モーダル：「現在の検索条件に一致する ●● 件をエクスポートします。」
・ファイル名：export_YYYYMMDDHHMM.xlsx
・文字コード：UTF-8 (BOM付き) または Excel標準形式とし、文字化けを防ぐ。"
	テンプレートダウンロード	"・ボタンをクリック → テンプレートファイル（Excel）が即ダウンロードされる。
・ファイル名：import_template_company.xlsx
・テンプレートは常に最新のインポート仕様に合わせて更新される。"
	削除（単体）	"・行ごとの削除アイコン押下 → 確認モーダル表示 → 論理削除を実行
・並行アクセス対策：削除時に対象が既に存在しない場合は『対象のデータは既に削除されています』と表示
・削除されたデータは削除履歴画面で確認可能。
※仕様上、一覧画面からの「複数選択による一括削除」機能は実装しない。"
セキュリティ	サーバー処理	"・検索フォームへのトークン発行・照合
・SQLインジェクション対策（プリペアードステートメント）
・入力値サニタイズ・正規化"
"テンプレートファイル定義
（ダウンロードされる「import_template_company.xlsx」の仕様）"	シート構成	"1. データ入力シート（Main）
・アプリが読み取る対象のシート。
・シート名：「入力シート」
2. 説明シート（Readme）
・ユーザー向けのマニュアルシート。
・入力ルール、禁止事項（列削除禁止など）、正しい例/悪い例、インポート手順を記載する。
・システムはこのシートを無視する。"
	行・列の構造	"ヘッダー行
・1行目は固定ヘッダー（背景色あり、ロック推奨）。
・列順はシステム固定：
　`A:企業ID"
	セルの書式設定	"企業ID
・数値のみ（または文字列）。自動採番の場合は空欄。
郵便番号
・文字列（String）として設定（0落ち防止のため）。
・入力規則：000-0000 形式の入力を促すコメントを表示。
登録日
・日付形式（YYYY/MM/DD）。
・Excelの「セルの書式設定」で日付型に指定しておく。
備考
・標準（文字列）。折り返し表示を有効にする。"
	"Excel入力規則
（Data Validation）"	"※ユーザーの入力ミスを減らすため、Excelファイル自体に入力規則を設定して配布する。
・郵便番号：データの入力規則 → 文字列の長さ＝8文字、またはユーザー定義でハイフン必須チェック。
・登録日：データの入力規則 → 日付のみ許可。
・企業名：必須入力（Excel機能での完全強制は難しいため、色付け等で明示）。"
